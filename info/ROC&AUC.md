# ROC&AUC

## ROC

T , F (True and False): 表示正确预测或错误预测
P , N (Positive and Negtive): 表示正例和负例

TP: 正确预测为正例
TN: 正确预测为负例
FP: 错误预测为正例
FN: 错误预测为负例

$$
TPR = \frac{TP}{TP + FN}
$$

$$
FPR = \frac{FP}{TN + FP}
$$

$$
ROC = (FPR , TPR)
$$
ROC 等于用他们绘制而成的坐标图

ROC实质上是一系列(FPR ,  TPR) 连成的曲线，所以我们就需要这样的一系列点，这就是一系列预测结果。这些结果就是在不同阈值下产生的。

### 阈值

阈值实际上是一系列概率，我们预测一个样本为正为负时，是要算一个预测为正例的概率，如下图

![1](/Users/wangyi/Desktop/link_p_code/my_link_test/info/photo/1.png)

也就是预测概率在阈值之上的时候我们认为其为正例，阈值从(1 , 0)取值，当阈值为1时，需要预测概率为1才能为正例，所以此时预测结果其实全为负例，TP = 0 ， FP = 0，所以是从(0 , 0)点起始，当最后为0时逻辑一样，中间的阈值取定也不需要连续，只需要将预测概率从大到小排列，依次离散的进行取值即可。



TPR 表示在某个阈值之下，正确预测正例的数量在总的正例的数量之中的比例，可以理解为收获

FPR 表示在某个阈值之下，错误预测正例的数量在总的反例的数量之中的比例，可以理解为代价，我们需要预测对更多的正例，但是在过程难免将不是正例的反例错误预测。



我们对每一个例子假设采取随机预测，也就是不管他为正例反例，在预测时它的结果为正反的概率均为0.5，数据量足够大且当阈值进行改变时可想而知，阈值只会取三个值：1 ， 0.5 ， 0 ，最后反映出的也就是一条 k = 1 的斜线，我们需要收获大而惩罚小，也就是需要ROC曲线尽量在斜线上方。



## AUC

为了评估最后模型在阈值下整体的分类情况引入了AUC指标，他的计算形式为ROC曲线下方的面积

根据上面可知当：

AUC = 0.5 随机预测，没有分类能力

AUC > 0.5 有一定预测能力

AUC < 0.5 负能力，可以进行反向预测

只有当每个阈值下均分类正确，ROC曲线经过(0 ,  1)点，AUC才能等于1，也就是模型可以完美预测数据集。也就是所有预测概率均为1





